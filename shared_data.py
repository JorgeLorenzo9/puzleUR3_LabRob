# shared_data.py
# =================== PARÁMETROS DE INICIO ===================
HOME = [0.08466545884173958, 0.2863416203890516, 0.3500529264767416, -1.2254897161735516, -1.1406743714057417, 1.2107779703462462]
# =================== COORDENADAS ============================
z_catch = 0.158529264767416  # mm
# =================== ENTRADAS Y SALIDAS DE VISIÓN ===================
vision_output_pixel_coords = None     # (x, y) en píxeles
vision_output_piece_number = None     # número de pieza (1 a 9)
vision_output_rotation = None         # ángulo en grados (o radianes)
vision_output_face_correcta = True
centroides_robot = {}  # clave: número de pieza (1-9), valor: lista tipo HOME
num_piezas_colocadas = 0
numero_pieza_actual = 0

# =================== ENTRADAS DE UR3 ===================
ur3_target_cartesian = None   # (x, y, z, yaw, pitch, roll)
ur3_gripper_status = False  # True: sujeta, False: suelta

# =================== SALIDAS A UR3 ===================
ur3_current_cartesian = (0, 0, 0, 0, 0, 0)  # (x, y, z, yaw, pitch, roll)
ur3_gripper_command = None    # True: cerrar, False: abrir

# =================== PARÁMETROS DEFINIDOS ===================
# Resolución cámara
camera_resolution = (1280, 720)

# Área de trabajo y área de solución
area_trabajo = {
    "dim_mm": (300, 300),     # ancho x alto
    "corner_origin_mm": (100, 100)
}
area_solucion = {
    "dim_mm": (300, 300),
    "corner_origin_mm": (500, 100),
    "positions": {            # asignación pieza->posición en el puzzle
        1: (0, 0),
        2: (100, 0),
        3: (200, 0),
        4: (0, 100),
        5: (100, 100),
        6: (200, 100),
        7: (0, 200),
        8: (100, 200),
        9: (200, 200),
    }
}

altura_home = 300  # mm
altura_coger_pieza = 50  # mm por debajo de home

pos_1_arriba = [-0.04653220955297788, -0.3045289982978197, 0.23324806566730216, -1.1795863772602138, 1.4630881891377638, -1.173959213113563]
pos_2_arriba = [-0.051868959406034865, -0.3534092789854885, 0.23324806566730216, -1.167682578316888, 1.40465622613548, -1.2203649429919277]
pos_3_arriba = [-0.05331246634951319, -0.4090129476167377,0.23324806566730216, -1.154062231836469, 1.4191901119280905, -1.198967427303407]
pos_4_arriba = [-0.11957117548413747, -0.2898786651310155, 0.23324806566730216, -1.1326030854694822, 1.308743212019519, -1.3231487593232791]
pos_5_arriba = [-0.1175091407413541, -0.35696800924543465, 0.23324806566730216, -1.1233866021501786, 1.3169122262000406, -1.3111646854241872]
pos_6_arriba = [-0.11783490817152541, -0.4087043061552315, 0.23324806566730216, -1.134228996695019, 1.3170057405924864, -1.3146865004736947]
pos_7_arriba = [-0.16732445040236854, -0.2950581759701612,0.23324806566730216, -1.1392717160238262, 1.3133542846215378, -1.320522917146969]
pos_8_arriba = [-0.17387659079407217, -0.3469086501819952,0.23324806566730216, -1.145009338709523, 1.3089286207866633, -1.3276674332645138]
pos_9_arriba = [-0.18020444967237575, -0.3941506762610351, 0.23324806566730216, -1.1020083220022956, 1.3413639532620185, -1.2770715749789823]

pos_1 = [-0.04653220955297788, -0.3045289982978197, 0.16324806566730216, -1.1795863772602138, 1.4630881891377638, -1.173959213113563]
pos_2 = [-0.051868959406034865, -0.3534092789854885, 0.1632530805752904, -1.167682578316888, 1.40465622613548, -1.2203649429919277]
pos_3 = [-0.05331246634951319, -0.4090129476167377, 0.16325283031667137, -1.154062231836469, 1.4191901119280905, -1.198967427303407]
pos_4 = [-0.11957117548413747, -0.2898786651310155, 0.16324645530186854, -1.1326030854694822, 1.308743212019519, -1.3231487593232791]
pos_5 = [-0.1175091407413541, -0.35696800924543465, 0.16324530303483975, -1.1233866021501786, 1.3169122262000406, -1.3111646854241872]
pos_6 = [-0.11783490817152541, -0.4087043061552315, 0.16324379514473153, -1.134228996695019, 1.3170057405924864, -1.3146865004736947]
pos_7 = [-0.16732445040236854, -0.2950581759701612, 0.16325590424871378, -1.1392717160238262, 1.3133542846215378, -1.320522917146969]
pos_8 = [-0.17387659079407217, -0.3469086501819952, 0.16324790858427551, -1.145009338709523, 1.3089286207866633, -1.3276674332645138]
pos_9 = [-0.18020444967237575, -0.3941506762610351, 0.16325203108328906, -1.1020083220022956, 1.3413639532620185, -1.2770715749789823]

intermediate_pos = [-0.2704029860607587, 0.15640560436445022, 0.23554034886204406, -1.165099630002974, 1.3274374565443612, -1.2219252110459653]

path_1 = [intermediate_pos, pos_1_arriba, pos_1]
path_1_return = [pos_1_arriba,intermediate_pos]
path_2 = [intermediate_pos, pos_2_arriba, pos_2]
path_2_return = [pos_2_arriba,intermediate_pos]
path_3 = [intermediate_pos, pos_3_arriba, pos_3]
path_3_return = [pos_3_arriba,intermediate_pos]
path_4 = [intermediate_pos, pos_4_arriba, pos_4]
path_4_return = [pos_4_arriba,intermediate_pos]
path_5 = [intermediate_pos, pos_5_arriba, pos_5]
path_5_return = [pos_5_arriba,intermediate_pos]
path_6 = [intermediate_pos, pos_6_arriba, pos_6]
path_6_return = [pos_6_arriba,intermediate_pos]
path_7 = [intermediate_pos, pos_7_arriba, pos_7]
path_7_return = [pos_7_arriba,intermediate_pos]
path_8 = [intermediate_pos, pos_8_arriba, pos_8]
path_8_return = [pos_8_arriba,intermediate_pos]
path_9 = [intermediate_pos, pos_9_arriba, pos_9]
path_9_return = [pos_9_arriba,intermediate_pos]



# =================== MOVIMIENTOS rotar UR3 ===================
mirrar_arriba = [-0.13134197452954344, 0.3455670013097921, 0.3159726644935425, -1.0821565601153795, -1.2296092388557256, 1.2678467730063692]
coger_en_caja = [-0.1438322759527261, 0.34506681178612547, 0.263955242309839, -1.174767690132671, -1.2285008500234367, 1.306131507737785]
no_chocar = [0.009321977854584173, 0.35680555501456607, 0.320087770024544, -1.3338767595965817, -1.0852796133507616, 0.9701360134698014]
no_chocar_2 = [-0.04835650292964287, 0.33576749285132196, 0.2366197223758686, -0.049652227415226534, -0.138408618429134, 1.6796031425882028]
echarse_atras = [0.12747955108658823, 0.3144418703430722, 0.2364432012452, -0.07913869742262782, -0.11391198024553828, 1.1525772914147034]
rot_medio = [-0.007284700265058244, 0.35009482830947336, 0.1531372247945716, -0.07973911695938657, -0.04565323012697314, 1.6146867100447644]
rot_coger = [-0.02738985735178484, 0.35785161180440306, 0.13911096373860057, -0.08064615619157657, -0.15386013877572036, 1.6756536061174867]
mirraz_puzzle = [-0.13673873456936142, 0.27734496123085284, 0.3451934240055127, -1.214052291499628, -1.1079593817250402, 1.2113744366474313]
